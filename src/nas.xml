<?xml version="1.0" encoding="gb2312" ?>
<system>

<no meaning="取消配置" />

<user meaning="添加用户" func="nas_user" attrib="single">
	<name meaning="用户账户" para="string" paraid="0" attrib="single" functab="nas_tab_user">
		<password meaning="用户密码" para="string" paraid="1"/>
		<sharedir meaning="磁盘空间" para="string" paraid="2" functab="nas_tab_disk"/>
		<validip meaning="允许此用户登录的IP地址" para="string" paraid="3"/>
		<validtime meaning="允许此用户登录的时段" para="string" paraid="4"/>
		<quota meaning="磁盘配额" para="string" paraid="5"/>
		<name_cn meaning="姓名" para="string" paraid="6"/>
		<orgid meaning="所属组织机构ID" para="string" paraid="7"/>
		<type meaning="用户类型，默认为普通用户" para="string" paraid="8"/>
		<seclevel meaning="密级" para="string" paraid="9"/>
		<ordernum meaning="排序" para="string" paraid="10"/>
	</name>
	<enable meaning="启用用户" para="string" paraid="0" func="nas_user_enable" attrib="single" functab="nas_tab_user"/>
</user>
<org meaning="组织机构管理" func="nas_org" attrib="single">
	<user meaning="查询用户" func="nas_org_user" attrib="single">
	<orgid meaning="组织ID" para="number" paraid="0"/>
	<seclevel meaning="查询低于此密级用户" para="number" paraid="1"/>
	<userid meaning="用户ID" para="number" paraid="2"/>
	</user>
</org>
<ip meaning="设置系统IP地址" func="nas_setip" attrib="single">
	<dev meaning="网络接口" para="string" paraid="0" functab="nas_tab_interface">
		<address meaning="IP地址,例如:192.168.1.1" para="ip" paraid="1"/>
		<mask meaning="子网掩码，例如255.255.255.0" para="ip" paraid="2"/>
		<gw meaning="默认网关" para="ip" paraid="3"/>
	</dev>
</ip>
<bonding meaning="网卡绑定" func="nas_bonding" attrib="single">
	<dev meaning="要绑定的网卡，多个网卡逗号隔开" para="string" paraid="0" >
		<address meaning="IP地址,例如:192.168.1.1" para="ip" paraid="1"/>
		<mask meaning="子网掩码，例如255.255.255.0" para="ip" paraid="2"/>
		<gw meaning="默认网关" para="ip" paraid="3"/>
	</dev>
	<name meaning="名称" para="string" paraid="4"/>
</bonding>
<ping meaning="ping命令" func="nas_ping" attrib="single" para="ip" paraid="0"/>
<time meaning="设置或查看系统时间" attrib="single" func="nas_settime">
	<set meaning="设置系统时间" attrib="single">
		<date meaning="日期，格式为 yyyy-mm-dd" para="date" paraid="0"/>
		<clock meaning="时钟，格式为 hh:mm:ss" para="time" paraid="1"/>
	</set>
	<ntpsync meaning="ntp时钟同步" func="nas_settime_ntp_sync" attrib="single">
		<server meaning="ntp服务器地址" para="string" paraid="0" />
	</ntpsync>
</time>

<mount meaning="设置NAS服务器" func="nas_mount" attrib="single">
	<ip meaning="NAS服务器地址" para="string" paraid="0"> 
		<dir meaning="NAS服务器目录" para="string" paraid="1" >
			<user meaning="用户名" para="string" paraid="2">
				<password meaning="口令" para="string" paraid="3"/>
			</user>
			<fstype meaning="文件系统类型" para="string" paraid="2"/>
		</dir>
	</ip>
	
</mount>
<service meaning="设置服务状态" attrib="single">
	<smbd meaning="samba服务" func="nas_service_smbd" attrib="single">
		<start meaning="开启服务" para="null" paraid="0" />
		<stop meaning="停止服务" para="null" paraid="1" />
		<restart meaning="重启服务" para="null" paraid="2" />
	</smbd>	
	<telnetd meaning="telnet服务" func="nas_service_telnetd" attrib="single">
		<start meaning="开启服务" para="null" paraid="0" />
		<stop meaning="停止服务" para="null" paraid="1" />
		<restart meaning="重启服务" para="null" paraid="2" />
	</telnetd>
	<ftpd meaning="ftp服务" func="nas_service_ftpd" attrib="single">
		<start meaning="开启服务" para="null" paraid="0" />
		<stop meaning="停止服务" para="null" paraid="1" />
		<restart meaning="重启服务" para="null" paraid="2" />
	</ftpd>
</service>	
<remount meaning="重新设置NAS服务器" func="nas_remount" attrib="single">
	<ip meaning="NAS服务器地址" para="string" paraid="0"> 
		<dir meaning="NAS服务器目录" para="string" paraid="1" >
			<user meaning="用户名" para="string" paraid="2">
				<password meaning="口令" para="string" paraid="3"/>
			 </user>
		</dir>
	</ip>
</remount>

<share meaning="文件共享设置" func="nas_transfer" attrib="single">
	<file meaning="需要共享的文件" para="string" paraid="0" />
	<from meaning="发送者用户名" para="string" paraid="1" functab="nas_tab_user"/>
	<to meaning="接受者用户名" para="string" paraid="2" functab="nas_tab_user"/>
	<limittime meaning="失效时间,格式为yyyy-mm-dd hh:mm:ss" para="datetime" paraid="3"/>
	<seclevel meaning="密级(0:绝密1:机密2:秘密3:内部4:非密5:未标密)" para="string" paraid="4" />
	<id meaning="发送记录ID,用于删除共享" para="number" paraid="5" />
	<limitday meaning="有效天数" para="num" paraid="6" />
	<norename meaning="不修改文件名，默认会加上时间等信息" para="null" paraid="7" />
</share>

<mkfs.ext4 meaning="格式化磁盘,以ext4格式" func="nas_formate_disk" attrib="single" para="string" paraid="0" />

<iscsi meaning="IPSAN设置" attrib="single" >
	<discovery meaning="IPSAN设置" attrib="single" func="nas_iscsi_discovery" >
		<ip meaning="IPSAN服务器地址" para="string" paraid="0" />
		<port meaning="IPSAN服务端口，默认3260" para="string" paraid="1" />
	</discovery>
	<login meaning="连接IPSAN" attrib="single" func="nas_iscsi_login" >
		<ip meaning="IPSAN服务器地址" para="string" paraid="0" />
		<port meaning="IPSAN服务端口，默认3260" para="string" paraid="1" />
		<target meaning="IPSAN目标名称" para="string" paraid="2" />
	</login>
	<logout meaning="登出IPSAN" attrib="single" func="nas_iscsi_logout">
		<ip meaning="IPSAN服务器地址" para="string" paraid="0" />
		<port meaning="IPSAN服务端口，默认3260" para="string" paraid="1" />
		<target meaning="IPSAN目标名称" para="string" paraid="2" />
	</logout>
	<getdev meaning="取得已登录目标产生的设备名" attrib="single" func="nas_get_disk_by_target">
		<target meaning="目标名" para="string" paraid="0" />
	</getdev>
</iscsi>	

<log meaning="用户使用日志" func="nas_userlog_show" attrib="single">
	<operation meaning="以操作查询" para="string" paraid="0" />
	<user meaning="以用户名查询" para="string" paraid="1" />
	<ip meaning="以IP地址查询" para="string" paraid="2" />
	<datebefore meaning="查询此日期之前的日志" para="string" paraid="3" />
	<dateafter meaning="查询此日期之后的日志" para="string" paraid="4" />
	<pagesize meaning="分页显示-页面大小" para="string" paraid="5"/> 
	<pagenum meaning="分页显示-页数" para="string" paraid="6" />
	<id meaning="以日志ID查询" para="string" paraid="7"/>
	<count meaning="日志量统计" para="null" paraid="8"/>
</log>

<log2 meaning="管理员日志" func="nas_configlog_show" attrib="single">
	<operation meaning="以操作查询" para="string" paraid="0" />
	<user meaning="以用户名查询" para="string" paraid="1" />
	<ip meaning="以IP地址查询" para="string" paraid="2" />
	<datebefore meaning="查询此日期之前的日志" para="string" paraid="3" />
	<dateafter meaning="查询此日期之后的日志" para="string" paraid="4" />
	<pagesize meaning="分页显示-页面大小" para="string" paraid="5"/> 
	<pagenum meaning="分页显示-页数" para="string" paraid="6" />
	<id meaning="以日志ID查询" para="string" paraid="7"/>
	<count meaning="日志量统计" para="null" paraid="8"/>
</log2>

<domain meaning="设置域认证参数" func="nas_domain_set" attrib="single">
	<name meaning="域名" para="string" paraid="0" >
		<dcip meaning="域控制器地址" para="string" paraid="1"> 
			<user meaning="域管理员账号" para="string" paraid="2" >
				<password meaning="域管理员密码" para="string" paraid="3" />
			</user>
		</dcip>
	</name>	
</domain>

<dns meaning="DNS设置" func="nas_dns" >
	<ip meaning="DNS服务器地址" para="ip" paraid="0"/>
</dns>

<authmode meaning="设置认证方式" func="nas_authmode_show" attrib="single">
	<domain meaning="域认证方式" func="nas_authmode_domain" attrib="single"/>
	<user meaning="用户名+密码的认证方式" func="nas_authmode_user" attrib="single"/>
</authmode>

<statistic meaning="统计信息" func="nas_statistic" functab="nas_tab_disk" attrib="single">
	<diskinfo meaning="磁盘信息" para="string" paraid="0" attrib="single"/>
	<domainuserinfo meaning="用户信息" func="libnas_samba.so:nas_domain_user_not_in_db" para="null" paraid="1" attrib="single"/>
	<sandisk meaning="已经连接的SAN存储" func="nas_show_san" attrib="single" />
	<sandiskinfo meaning="SAN磁盘的详细信息" func="nas_get_sandisk_info" para="string" paraid="0" attrib="single" />
</statistic>

<login meaning="web方式登录samba" attrib="single">
	<address meaning="主机地址" para="string" paraid="0" />
	<user meaning="用户名" para="string" paraid="1" />
	<password meaning="登录口令" para="string" paraid="2" />
</login>
<shareswitch meaning="开启/关闭共享" func="nas_share_switch" attrib="single">
	<department meaning="部门共享" para="string" paraid="0"/>
	<sendfile meaning="文件发送" para="string" paraid="1"/>
	<whitelist meaning="软件白名单" para="string" paraid="2"/>
</shareswitch>
<logintest meaning="测试web方式登录" func="nas_weblogin_test" attrib="single">
	<address meaning="主机名" para="string" paraid="0" />
</logintest>
<logout meaning="web退出samba" attrib="single">
	<address meaning="主机地址" para="string" paraid="0" />
</logout>
<shutdown meaning="关闭服务器" attrib="single" func="nas_shutdown"/>
<reboot meaning="重启服务器" attrib="single" func="nas_reboot"/>
<update meaning="升级服务器，将升级包放在windows共享中" attrib="single" func="nas_update">
	<ip meaning="升级包所在的共享地址" para="ip" paraid="0">
		<dir meaning="升级包所在目录" para="string" paraid="1">
			<file meaning="升级包文件名" para="string" paraid="2">
				<user meaning="连接服务器需要的用户名" para="string" paraid="3">
					<password meaning="连接服务器需要的密码" para="string" paraid="4"/>
				</user>
			</file>
		</dir>
	</ip>
</update>
<show meaning="查看配置" />
<exit meaning="退出系统" attrib="single" func="nas_exit"/>

</system>

